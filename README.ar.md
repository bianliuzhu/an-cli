# an-cli

[English](./README.en.md) | [Espaรฑol](./README.es.md) | ุงูุนุฑุจูุฉ | [Franรงais](./README.fr.md) | [ะัััะบะธะน](./README.ru.md) | [ๆฅๆฌ่ช](./README.jp.md) | [็ฎไฝไธญๆ](./README.md)

ุฃุฏุงุฉ ุณุทุฑ ุงูุฃูุงูุฑ ูููุงุฌูุฉ ุงูุฃูุงููุฉ

ุฃุฏุงุฉ ุณุทุฑ ุฃูุงูุฑ ุชููู ุชููุงุฆูุงู ุจุฅูุดุงุก ุชุนุฑููุงุช ุฃููุงุน TypeScript ูุฏูุงู ุทูุจุงุช API ุงุณุชูุงุฏุงู ุฅูู Swagger JSON.

## ุงููููุฒุงุช

- ๐ ุงูุชุญููู ุงูุชููุงุฆู ููุซุงุฆู Swagger JSON
- ๐ฆ ุฅูุดุงุก ูููุงุช ุชุนุฑูู ุฃููุงุน TypeScript
- ๐ ุฅูุดุงุก ุฏูุงู ุทูุจุงุช API ุขููุฉ ุงูููุน
- ๐ฏ ุฏุนู ูุนููุงุช ุงููุณุงุฑ ูุงูุงุณุชุนูุงู ูุฌุณู ุงูุทูุจ
- ๐ ุฅูุดุงุก ุชููุงุฆู ูุชุนุฑููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ
- ๐จ ุฏุนู ุชูุณูู ุงูููุฏ
- โก๏ธ ุฏุนู ุฑูุน ุงููููุงุช
- ๐ ุฎูุงุฑุงุช ูุงุจูุฉ ููุชูููู ูุฅูุดุงุก ุงูููุฏ

## ุงูุชุซุจูุช

```bash
$ npm install anl -g

$ yarn global add anl
```

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

1. ุชูููุฐ ุงูุฃูุฑ

```bash
$ anl type
```

2. ุฅููุงู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน

- ุนูุฏ ุชูููุฐ `anl type` ูุฃูู ูุฑุฉุ ุณูุชู ุฅูุดุงุก ููู ุงูุชูููู `an.config.json` ุชููุงุฆูุงู ูู ุฌุฐุฑ ุงููุดุฑูุน (ูููู ุฅูุดุงุคู ูุฏููุงู ุฃูุถุงู)
- ุฑุงุฌุน ูุตู ุงูุฅุนุฏุงุฏุงุช ููุญุตูู ุนูู ุชูุงุตูู ุงููุนููุงุช
- ูุง ูููู ุชุบููุฑ ุงุณู ููู ุงูุชูููู

```json
{
	"saveTypeFolderPath": "apps/types",
	"saveApiListFolderPath": "apps/api/",
	"saveEnumFolderPath": "apps/enums",
	"importEnumPath": "../../enums",
	"swaggerJsonUrl": "https://generator3.swagger.io/openapi.json",
	"requestMethodsImportPath": "./fetch",
	"dataLevel": "serve",
	"formatting": {
		"indentation": "\t",
		"lineEnding": "\n"
	},
	"headers": {}
}
```

3. ุฅูุดุงุก ุชุนุฑููุงุช ุฃููุงุน TypeScript ูุฏูุงู ุทูุจุงุช APIุ ูู ุจุชูููุฐ ุงูุฃูุฑ ูุฑุฉ ุฃุฎุฑู

```bash
$ anl type
```

## ูุตู ุงูุฅุนุฏุงุฏุงุช

| ุงูุฅุนุฏุงุฏ                  | ุงูููุน                        | ุฅูุฒุงูู | ุงููุตู                           |
| ------------------------ | ---------------------------- | ------ | ------------------------------- |
| saveTypeFolderPath       | string                       | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุชุนุฑูู ุงูุฃููุงุน    |
| saveApiListFolderPath    | string                       | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุฏูุงู API         |
| saveEnumFolderPath       | string                       | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ |
| importEnumPath           | string                       | ูุนู    | ูุณุงุฑ ุงุณุชูุฑุงุฏ ุงูุฃููุงุน ุงููุนุฏูุฏุฉ   |
| swaggerJsonUrl           | string                       | ูุนู    | ุนููุงู ูุซููุฉ Swagger JSON        |
| requestMethodsImportPath | string                       | ูุนู    | ูุณุงุฑ ุงุณุชูุฑุงุฏ ุทุฑู ุงูุทูุจ          |
| dataLevel                | 'data' \| 'serve' \| 'axios' | ูุนู    | ูุณุชูู ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ          |
| formatting               | object                       | ูุง     | ุฅุนุฏุงุฏุงุช ุชูุณูู ุงูููุฏ             |
| headers                  | object                       | ูุง     | ุฅุนุฏุงุฏุงุช ุฑุคูุณ ุงูุทูุจ              |

## ูููู ุงููููุงุช ุงูููุดุฃุฉ

- ูุชู ุฅูุดุงุก ูููู ุงููููุงุช ูุฐุง ูููุงู ูููู ุงูุชูููู

project/
โโโ apps/
โ โโโ types/
โ โ โโโ models/ # ุฌููุน ูููุงุช ุชุนุฑูู ุงูุฃููุงุน (ุจุงุณุชุซูุงุก ุงูุฃููุงุน ุงููุนุฏูุฏุฉ)
โ โ โโโ connectors/ # ุชุนุฑููุงุช ุฃููุงุน API (ูููุงุช ุชุนุฑูู ุงููุงุฌูุฉ)
โ โ โโโ enums/ # ุชุนุฑููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ
โ โโโ api/
โ โโโ fetch.ts # ุชูููุฐ ุทุฑู ุงูุทูุจ
โ โโโ index.ts # ุฏูุงู ุทูุจุงุช API

## ุฃูุซูุฉ ุนูู ุงูููุฏ ุงูููุดุฃ

### ููู ุชุนุฑูู ุงูุฃููุงุน

```typescript
declare namespace UserDetail_GET {
	interface Query {
		userId: string;
	}

	interface Response {
		id: string;
		name: string;
		age: number;
		role: UserRole;
	}
}
```

### ุฏุงูุฉ ุทูุจ API

```typescript
import { GET } from './fetch';

/**
 * ุงูุญุตูู ุนูู ุชูุงุตูู ุงููุณุชุฎุฏู
 */
export const userDetailGet = (params: UserDetail_GET.Query) => GET<UserDetail_GET.Response>('/user/detail', params);
```

## ูุตู ุงูููุฒุงุช

### ุชุญููู ุงูุฃููุงุน

- ุฏุนู ุฌููุน ุฃููุงุน ุงูุจูุงูุงุช ูู ููุงุตูุงุช OpenAPI 3.0
- ูุนุงูุฌุฉ ุชููุงุฆูุฉ ููุฃููุงุน ุงููุชุฏุงุฎูุฉ ุงููุนูุฏุฉ
- ุฏุนู ุงููุตูููุงุช ูุงููุงุฆูุงุช ูุงูุฃููุงุน ุงููุนุฏูุฏุฉ
- ุฅูุดุงุก ุชููุงุฆู ูุชุนูููุงุช ุงููุงุฌูุฉ

### ุฑูุน ุงููููุงุช

ุนูุฏ ุงูุชุดุงู ููุน ุฑูุน ุงููููุงุชุ ุณูุชู ุฅุถุงูุฉ ุฑุคูุณ ุงูุทูุจ ุงูููุงุณุจุฉ ุชููุงุฆูุงู:

```typescript
export const uploadFile = (params: UploadFile.Body) =>
	POST<UploadFile.Response>('/upload', params, {
		headers: { 'Content-Type': 'multipart/form-data' },
	});
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุชุชุถูู ุงูุฃุฏุงุฉ ุขููุฉ ุดุงููุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

- ุชูุจููุงุช ุฃุฎุทุงุก ุงูุชุญููู
- ุชุญุฐูุฑุงุช ูุดู ุฅูุดุงุก ุงูุฃููุงุน
- ูุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช ูุชุงุจุฉ ุงููููุงุช

## ุงูุชุทููุฑ

```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ูุถุน ุงูุชุทููุฑ
ุงุถุบุท F5 ููุชุตุญูุญ

# ุงูุจูุงุก
npm run build

# ุงูุฑุจุท ุงููุญูู ููุชุตุญูุญ
npm run blink
```

## ููุงุญุธุงุช ูุงูุฉ

1. ุชุฃูุฏ ูู ุฅููุงููุฉ ุงููุตูู ุฅูู ุนููุงู ูุซููุฉ Swagger JSON
2. ูุฌุจ ุฃู ุชููู ุงููุณุงุฑุงุช ูู ููู ุงูุชูููู ูุณุจูุฉ ูุฌุฐุฑ ุงููุดุฑูุน
3. ุณูุชู ุงุณุชุจุฏุงู ุงููููุงุช ุงูููุฌูุฏุฉ ุจููุณ ุงูุงุณู
4. ูููุตุญ ุจุฅุถุงูุฉ ุงููููุงุช ุงูููุดุฃุฉ ุฅูู ูุธุงู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ

## ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

1. ูุดู ุชูุณูู ูููุงุช ุงูุฃููุงุน ุงูููุดุฃุฉ

   - ุชุญูู ูู ุชุซุจูุช prettier
   - ุชุฃูุฏ ูู ูุฌูุฏ ููู ุชูููู prettier ูู ุฌุฐุฑ ุงููุดุฑูุน

2. ุฎุทุฃ ูู ูุณุงุฑ ุงุณุชูุฑุงุฏ ุฏูุงู ุงูุทูุจ
   - ุชุญูู ูู ุตุญุฉ ุฅุนุฏุงุฏ requestMethodsImportPath
   - ุชุฃูุฏ ูู ูุฌูุฏ ููู ุทุฑู ุงูุทูุจ

## ุฏููู ุงููุณุงููุฉ

ูุฑุญุจ ุจุชูุฏูู ุงููุดููุงุช ูุทูุจุงุช ุงูุณุญุจ!

## ุงูุชุฑุฎูุต

ISC License
