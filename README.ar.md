# an-cli

[English](./README.en.md) | [Espaรฑol](./README.es.md) | ุงูุนุฑุจูุฉ | [Franรงais](./README.fr.md) | [ะัััะบะธะน](./README.ru.md) | [ๆฅๆฌ่ช](./README.jp.md) | [็ฎไฝไธญๆ](./README.md)

## ุงููุตู

an-cli ูู ุฃุฏุงุฉ ุณุทุฑ ุงูุฃูุงูุฑ ูููุงุฌูุฉ ุงูุฃูุงููุฉุ ูุชุชุถูู ุงูุฃูุฑูู ุงูุชุงูููู:

[ุฃูุฑ anl type](#ุฃูุฑ anl type): ุฃุฏุงุฉ ุณุทุฑ ุฃูุงูุฑ ุชููู ุชููุงุฆูุงู ุจุฅูุดุงุก ุชุนุฑููุงุช ุฃููุงุน TypeScript ูุฏูุงู ุทูุจุงุช API ุงุณุชูุงุฏุงู ุฅูู Swagger JSON.

[ุฃูุฑ anl lint](#ุฃูุฑ anl lint): ูููู ุจุฅูุดุงุก ุฅุนุฏุงุฏุงุช eslint ู stylelint ู prettier ู commitLint ู VSCode ููุดุงุฑูุน react ุฃู vue

## ุงููููุฒุงุช

- `anl type`
  - ๐ ุงูุชุญููู ุงูุชููุงุฆู ููุซุงุฆู Swagger JSON
  - ๐ฆ ุฅูุดุงุก ูููุงุช ุชุนุฑูู ุฃููุงุน TypeScript
  - ๐ ุฅูุดุงุก ุฏูุงู ุทูุจุงุช API ุขููุฉ ุงูููุน
  - ๐ฏ ุฏุนู ูุนููุงุช ุงููุณุงุฑ ูุงูุงุณุชุนูุงู ูุฌุณู ุงูุทูุจ
  - ๐ ุฅูุดุงุก ุชููุงุฆู ูุชุนุฑููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ
  - ๐จ ุฏุนู ุชูุณูู ุงูููุฏ
  - โก๏ธ ุฏุนู ุฑูุน ุงููููุงุช
  - ๐ ุฎูุงุฑุงุช ูุงุจูุฉ ููุชูููู ูุฅูุดุงุก ุงูููุฏ
- `anl lint`
  - ๐ ุชูููู ุฌููุน ุฃุฏูุงุช lint ุจููุฑุฉ ูุงุญุฏุฉ
  - ๐จ ุชูููู ุชููุงุฆู ูู ESLint
  - ๐ฏ ุชูููู ุชูุณูู Prettier
  - ๐ ูุนุงููุฑ ุงูุงูุชุฒุงู CommitLint
  - ๐ฆ ุฅุนุฏุงุฏุงุช ูุญุฑุฑ VSCode

## ุงูุชุซุจูุช

> [!NOTE]
>
> ูุชุทูุจ ุงูุชุซุจูุช ุงูุนุงููู

```bash
$ npm install anl -g

$ yarn global add anl
```

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

1. ุชูููุฐ ุงูุฃูุฑ

```bash
$ anl type
```

2. ุฅููุงู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน

- ุนูุฏ ุชูููุฐ `anl type` ูุฃูู ูุฑุฉุ ุณูุชู ุฅูุดุงุก ููู ุงูุชูููู `an.config.json` ุชููุงุฆูุงู ูู ุฌุฐุฑ ุงููุดุฑูุน (ูููู ุฅูุดุงุคู ูุฏููุงู ุฃูุถุงู)
- ุฑุงุฌุน ูุตู ุงูุฅุนุฏุงุฏุงุช ููุญุตูู ุนูู ุชูุงุตูู ุงููุนููุงุช
- ูุง ูููู ุชุบููุฑ ุงุณู ููู ุงูุชูููู

```json
{
	"saveTypeFolderPath": "apps/types",
	"saveApiListFolderPath": "apps/api/",
	"saveEnumFolderPath": "apps/enums",
	"importEnumPath": "../../enums",
	"swaggerJsonUrl": "https://generator3.swagger.io/openapi.json",
	"requestMethodsImportPath": "./fetch",
	"dataLevel": "serve",
	"formatting": {
		"indentation": "\t",
		"lineEnding": "\n"
	},
	"headers": {},
	"includeInterface": [
		{
			"path": "/api/user",
			"method": "get"
		}
	],
	"excludeInterface": [
		{
			"path": "/api/admin",
			"method": "post"
		}
	]
}
```

3. ุฅูุดุงุก ุชุนุฑููุงุช ุฃููุงุน TypeScript ูุฏูุงู ุทูุจุงุช APIุ ูู ุจุชูููุฐ ุงูุฃูุฑ ูุฑุฉ ุฃุฎุฑู

```bash
$ anl type
```

## ูุตู ุงูุฅุนุฏุงุฏุงุช

| ุงูุฅุนุฏุงุฏ                  | ุงูููุน                                 | ุฅูุฒุงูู | ุงููุตู                            |
| ------------------------ | ------------------------------------- | ------ | -------------------------------- |
| saveTypeFolderPath       | string                                | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุชุนุฑูู ุงูุฃููุงุน     |
| saveApiListFolderPath    | string                                | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุฏูุงู API          |
| saveEnumFolderPath       | string                                | ูุนู    | ูุณุงุฑ ุญูุธ ูููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ  |
| importEnumPath           | string                                | ูุนู    | ูุณุงุฑ ุงุณุชูุฑุงุฏ ุงูุฃููุงุน ุงููุนุฏูุฏุฉ    |
| swaggerJsonUrl           | string                                | ูุนู    | ุนููุงู ูุซููุฉ Swagger JSON         |
| requestMethodsImportPath | string                                | ูุนู    | ูุณุงุฑ ุงุณุชูุฑุงุฏ ุทุฑู ุงูุทูุจ           |
| dataLevel                | 'data' \| 'serve' \| 'axios'          | ูุนู    | ูุณุชูู ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ           |
| formatting               | object                                | ูุง     | ุฅุนุฏุงุฏุงุช ุชูุณูู ุงูููุฏ              |
| headers                  | object                                | ูุง     | ุฅุนุฏุงุฏุงุช ุฑุคูุณ ุงูุทูุจ               |
| includeInterface         | Array<{path: string, method: string}> | ูุง     | ูุงุฆูุฉ ุงููุงุฌูุงุช ุงููุทููุจ ุชุถููููุง   |
| excludeInterface         | Array<{path: string, method: string}> | ูุง     | ูุงุฆูุฉ ุงููุงุฌูุงุช ุงููุทููุจ ุงุณุชุจุนุงุฏูุง |

## ุชุตููุฉ ุงููุงุฌูุงุช

ููููู ุงุณุชุฎุฏุงู `includeInterface` ู `excludeInterface` ููุชุญูู ูู ุงููุงุฌูุงุช ุงูุชู ุณูุชู ุฅูุดุงุคูุง:

### ุชุถููู ุงููุงุฌูุงุช (includeInterface)

ุนูุฏ ุชุญุฏูุฏ `includeInterface`ุ ุณูุชู ุฅูุดุงุก ููุท ุงููุงุฌูุงุช ุงููุทุงุจูุฉ ูููุณุงุฑุงุช ูุงูุทุฑู ุงููุญุฏุฏุฉ:

```json
{
	"includeInterface": [
		{ "path": "/api/user", "method": "GET" },
		{ "path": "/api/order", "method": "POST" }
	]
}
```

### ุงุณุชุจุนุงุฏ ุงููุงุฌูุงุช (excludeInterface)

ุนูุฏ ุชุญุฏูุฏ `excludeInterface`ุ ุณูุชู ุฅูุดุงุก ุฌููุน ุงููุงุฌูุงุช ุจุงุณุชุซูุงุก ุชูู ุงููุทุงุจูุฉ ูููุณุงุฑุงุช ูุงูุทุฑู ุงููุญุฏุฏุฉ:

```json
{
	"excludeInterface": [
		{ "path": "/api/admin", "method": "GET" },
		{ "path": "/api/system", "method": "POST" }
	]
}
```

> [!NOTE]
>
> - ูุง ูููู ุงุณุชุฎุฏุงู `includeInterface` ู `excludeInterface` ูู ููุณ ุงูููุช
> - ุฅุฐุง ุชู ุชุญุฏูุฏ `includeInterface`ุ ุณูุชู ุชุฌุงูู `excludeInterface`
> - ุงููุณุงุฑุงุช ุชุฏุนู ุงููุทุงุจูุฉ ุงูุฌุฒุฆูุฉ (ูุซู `/api/user` ุณูุทุงุจู `/api/user/profile`)

## ูููู ุงููููุงุช ุงูููุดุฃุฉ

- ูุชู ุฅูุดุงุก ูููู ุงููููุงุช ูุฐุง ูููุงู ูููู ุงูุชูููู

project/
โโโ apps/
โ โโโ types/
โ โ โโโ models/ # ุฌููุน ูููุงุช ุชุนุฑูู ุงูุฃููุงุน (ุจุงุณุชุซูุงุก ุงูุฃููุงุน ุงููุนุฏูุฏุฉ)
โ โ โโโ connectors/ # ุชุนุฑููุงุช ุฃููุงุน API (ูููุงุช ุชุนุฑูู ุงููุงุฌูุฉ)
โ โ โโโ enums/ # ุชุนุฑููุงุช ุงูุฃููุงุน ุงููุนุฏูุฏุฉ
โ โโโ api/
โ โโโ fetch.ts # ุชูููุฐ ุทุฑู ุงูุทูุจ
โ โโโ index.ts # ุฏูุงู ุทูุจุงุช API

## ุฃูุซูุฉ ุนูู ุงูููุฏ ุงูููุดุฃ

### ููู ุชุนุฑูู ุงูุฃููุงุน

```typescript
declare namespace UserDetail_GET {
	interface Query {
		userId: string;
	}

	interface Response {
		id: string;
		name: string;
		age: number;
		role: UserRole;
	}
}
```

### ุฏุงูุฉ ุทูุจ API

```typescript
import { GET } from './fetch';

/**
 * ุงูุญุตูู ุนูู ุชูุงุตูู ุงููุณุชุฎุฏู
 */
export const userDetailGet = (params: UserDetail_GET.Query) => GET<UserDetail_GET.Response>('/user/detail', params);
```

## ูุตู ุงูููุฒุงุช

### ุชุญููู ุงูุฃููุงุน

- ุฏุนู ุฌููุน ุฃููุงุน ุงูุจูุงูุงุช ูู ููุงุตูุงุช OpenAPI 3.0
- ูุนุงูุฌุฉ ุชููุงุฆูุฉ ููุฃููุงุน ุงููุชุฏุงุฎูุฉ ุงููุนูุฏุฉ
- ุฏุนู ุงููุตูููุงุช ูุงููุงุฆูุงุช ูุงูุฃููุงุน ุงููุนุฏูุฏุฉ
- ุฅูุดุงุก ุชููุงุฆู ูุชุนูููุงุช ุงููุงุฌูุฉ

### ุฑูุน ุงููููุงุช

ุนูุฏ ุงูุชุดุงู ููุน ุฑูุน ุงููููุงุชุ ุณูุชู ุฅุถุงูุฉ ุฑุคูุณ ุงูุทูุจ ุงูููุงุณุจุฉ ุชููุงุฆูุงู:

```typescript
export const uploadFile = (params: UploadFile.Body) =>
	POST<UploadFile.Response>('/upload', params, {
		headers: { 'Content-Type': 'multipart/form-data' },
	});
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุชุชุถูู ุงูุฃุฏุงุฉ ุขููุฉ ุดุงููุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

- ุชูุจููุงุช ุฃุฎุทุงุก ุงูุชุญููู
- ุชุญุฐูุฑุงุช ูุดู ุฅูุดุงุก ุงูุฃููุงุน
- ูุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช ูุชุงุจุฉ ุงููููุงุช

## ุงูุชุทููุฑ

```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ูุถุน ุงูุชุทููุฑ
ุงุถุบุท F5 ููุชุตุญูุญ

# ุงูุจูุงุก
npm run build

# ุงูุฑุจุท ุงููุญูู ููุชุตุญูุญ
npm run blink
```

## ููุงุญุธุงุช ูุงูุฉ

1. ุชุฃูุฏ ูู ุฅููุงููุฉ ุงููุตูู ุฅูู ุนููุงู ูุซููุฉ Swagger JSON
2. ูุฌุจ ุฃู ุชููู ุงููุณุงุฑุงุช ูู ููู ุงูุชูููู ูุณุจูุฉ ูุฌุฐุฑ ุงููุดุฑูุน
3. ุณูุชู ุงุณุชุจุฏุงู ุงููููุงุช ุงูููุฌูุฏุฉ ุจููุณ ุงูุงุณู
4. ูููุตุญ ุจุฅุถุงูุฉ ุงููููุงุช ุงูููุดุฃุฉ ุฅูู ูุธุงู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ

## ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

1. ูุดู ุชูุณูู ูููุงุช ุงูุฃููุงุน ุงูููุดุฃุฉ

   - ุชุญูู ูู ุชุซุจูุช prettier
   - ุชุฃูุฏ ูู ูุฌูุฏ ููู ุชูููู prettier ูู ุฌุฐุฑ ุงููุดุฑูุน

2. ุฎุทุฃ ูู ูุณุงุฑ ุงุณุชูุฑุงุฏ ุฏูุงู ุงูุทูุจ
   - ุชุญูู ูู ุตุญุฉ ุฅุนุฏุงุฏ requestMethodsImportPath
   - ุชุฃูุฏ ูู ูุฌูุฏ ููู ุทุฑู ุงูุทูุจ

## ุฏููู ุงููุณุงููุฉ

ูุฑุญุจ ุจุชูุฏูู ุงููุดููุงุช ูุทูุจุงุช ุงูุณุญุจ!

## ุงูุชุฑุฎูุต

ISC License

# ุฃูุฑ anl lint

### ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงุฆู

ูููุฑ ูุธููุฉ ุชูููู ุฃุฏูุงุช lint ุงููุฎุชููุฉ ููุดุฑูุน ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุจููุฑุฉ ูุงุญุฏุฉุ ุจูุง ูู ุฐูู:

- ูุญุต ุงูููุฏ ESLint
- ุชูุณูู ุงูููุฏ Prettier
- ูุนุงููุฑ ุฑุณุงุฆู ุงูุงูุชุฒุงู CommitLint
- ุฅุนุฏุงุฏุงุช ูุญุฑุฑ VSCode

### ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

```bash
$ anl lint
```

### ุชูุงุตูู ุงูุชูููู

#### 1. ุชูููู ESLint

- ุชุซุจูุช ุชููุงุฆู ููุชุจุนูุงุช ุงููุทููุจุฉ
- ุฏุนู ุฅุทุงุฑ ุนูู React/Vue
- ุฅูุดุงุก ุชููุงุฆู ูู `.eslintrc.js` ู `.eslintignore`
- ุฏูุฌ ุฏุนู TypeScript

#### 2. ุชูููู Prettier

- ุชุซุจูุช ุชููุงุฆู ูุชุจุนูุงุช prettier
- ุฅูุดุงุก ููู ุชูููู `.prettierrc.js`
- ุงูุชูููู ุงูุงูุชุฑุงุถู ูุดูู:
  - ุนุฑุถ ุงูุณุทุฑ: 80
  - ูุณุงูุฉ ุจุงุฏุฆุฉ Tab
  - ุงุณุชุฎุฏุงู ุนูุงูุงุช ุงูุชุจุงุณ ูุฑุฏูุฉ
  - ุฃููุงุณ ุฏูุงู ุงูุณูู
  - ูุนุงููุฑ ููุท ุงูููุฏ ุงูุฃุฎุฑู

#### 3. ุชูููู CommitLint

- ุชุซุจูุช ุชุจุนูุงุช commitlint
- ุชูููู ุฎุทุงุทูู git ูุน husky
- ุฅูุดุงุก `commitlint.config.js`
- ุชูุญูุฏ ุฑุณุงุฆู git commit

#### 4. ุชูููู VSCode

- ุฅูุดุงุก `.vscode/settings.json`
- ุชูููู ุงูุชูุณูู ุงูุชููุงุฆู ูููุญุฑุฑ
- ุชุนููู ุฃุฏุงุฉ ุงูุชูุณูู ุงูุงูุชุฑุงุถูุฉ
- ุฏุนู ุชุญุฏูุซ ูููุงุช ุงูุชูููู ุงูููุฌูุฏุฉ
